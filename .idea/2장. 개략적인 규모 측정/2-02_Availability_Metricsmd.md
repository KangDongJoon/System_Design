# 2장. 개략적인 규모 측정

## (2) 가용성에 관계된 수치들

### 9의 개수와 시스템 장애시간 사이의 관계

| 가용률      | 하루당 장애시간  | 주당 장애시간   | 개월당 장애시간 | 연간 장애시간 |
|----------|-----------|-----------|----------|---------|
| 99%      | 14.40분    | 1.68시간    | 7.31시간   | 3.65일   |
| 99.9%    | 1.44분     | 10.08분    | 43.83분   | 8.77시간  |
| 99.99%   | 8.64초     | 1.01분     | 4.38분    | 52.60분  |
| 99.999%  | 864.00밀리초 | 6.05초     | 26.30초   | 5.26분   |
| 99.9999% | 86.40밀리초  | 604.80밀리초 | 2.63초    | 31.56초  |

### QPS 측정법

> $$ QPS = \frac{\text{처리된 커리 수}}{\text{측정 시간 (초)}} $$

가정)
- 월간 능동 사용자 3억명
- 50%가 매일 서비스 이용
- 일 평균 2건의 게시글 작성
- 미디어 포함 10%
- 데이터는 5년간 보존

추정)

QPS 추정치
- 일간 능동 사용자 = 3억 * 50% = 1.5억
- QPS = 1.5억 * 2게시글 / 24시간 / 3600초 = 약 3500
- 최대 QPS = 2 * QPS = 약 7000

미디어 저장을 위한 저장소 요구량
- 평균 게시글 크기
  - id에 64바이트
  - 텍스트에 140바이트
  - 미디어에 1MB
- 미디어 저장소 요구량 = 1.5억 * 2 * 10% * 1MB = 30TB/일
- 5년간 미디어를 보관하기 위한 저장소 요구량 = 30TB * 365 * 5 = 약 55PB






